\ProvidesPackage{culmus}

% Add option to use legacy (small) font size (this font size was used
% until culmus-latex-0.6
\DeclareOption{legacy-size}{
	\def\frank@scale{1}
	\def\david@scale{1}
}

% whether to use David as the default Roman font.
\def\culmus@useDavid{0}
\DeclareOption{use-david}{
	\def\culmus@useDavid{1}
}
% Set multipliers to adjust font size to be some sane value (make it about
% the same size as the old Hebrew fonts.
\def\frank@scale{1.20}
\def\david@scale{1.20}

% Process options now to overide the size multipliers
\ProcessOptions\relax

\DeclareFontEncoding{HE8}{}{}
\providecommand{\HeblatexEncoding}{HE8}%
\providecommand{\HeblatexEncodingFile}{he8enc}%

% an attempt to give some replacements to the original hebfonts:
% 
\DeclareTextFontCommand{\textcrml}{\fontfamily{david}\selectfont}
\DeclareTextFontCommand{\textfr}{\fontfamily{frank}\selectfont}
\DeclareTextFontCommand{\textredis}{\fontfamily{aharoni}\selectfont}
\DeclareTextFontCommand{\textclas}{\fontfamily{drugulin}\selectfont}
\DeclareTextFontCommand{\textshold}{\fontfamily{frank}\selectfont}
\DeclareTextFontCommand{\textshscr}{\fontfamily{yad}\selectfont}
% note that redis is larger than shstk
\DeclareTextFontCommand{\textshstk}{\fontfamily{aharoni}\selectfont}

% and finally: make it the default of HE8:
\DeclareFontFamily{HE8}{cmr}{}
\ifnum \culmus@useDavid=0
	\DeclareFontShape{HE8}{cmr}{m}{n} {<-> s*[\frank@scale]frank}{}
	\DeclareFontShape{HE8}{cmr}{m}{it} {<-> s*[\frank@scale]franki}{}
	\DeclareFontShape{HE8}{cmr}{m}{sl} {<-> s*[\frank@scale]franki}{}
	\DeclareFontShape{HE8}{cmr}{b}{n} {<-> s*[\frank@scale]frankb}{}
	\DeclareFontShape{HE8}{cmr}{bx}{n} {<-> s*[\frank@scale]frankb}{}
	\DeclareFontShape{HE8}{cmr}{bx}{it} {<-> s*[\frank@scale]frankbi}{}
\else
	\DeclareFontShape{HE8}{cmr}{m}{n} {<-> s*[\david@scale]david}{}
	\DeclareFontShape{HE8}{cmr}{m}{it} {<-> s*[\david@scale]davidi}{}
	\DeclareFontShape{HE8}{cmr}{m}{sl} {<-> s*[\david@scale]davidi}{}
	\DeclareFontShape{HE8}{cmr}{b}{n} {<-> s*[\david@scale]davidb}{}
	\DeclareFontShape{HE8}{cmr}{bx}{n} {<-> s*[\david@scale]davidb}{}
	\DeclareFontShape{HE8}{cmr}{bx}{it} {<-> s*[\david@scale]davidbi}{}
\fi

\DeclareFontFamily{HE8}{cmtt}{}
\DeclareFontShape{HE8}{cmtt}{m}{n} {<-> miriam}{}
\DeclareFontShape{HE8}{cmtt}{m}{it} {<-> miriami}{}
\DeclareFontShape{HE8}{cmtt}{m}{sl} {<-> miriami}{}
\DeclareFontShape{HE8}{cmtt}{b}{n} {<-> miriamb}{}
\DeclareFontShape{HE8}{cmtt}{bx}{n} {<-> miriamb}{}
\DeclareFontShape{HE8}{cmtt}{bx}{it} {<-> miriambi}{}

\DeclareFontFamily{HE8}{cmss}{}
\DeclareFontShape{HE8}{cmss}{m}{n} {<-> nachlieli}{}
\DeclareFontShape{HE8}{cmss}{m}{it} {<-> nachlielii}{}
\DeclareFontShape{HE8}{cmss}{m}{sl} {<-> nachlielii}{}
\DeclareFontShape{HE8}{cmss}{b}{n} {<-> nachlielib}{}
\DeclareFontShape{HE8}{cmss}{bx}{n} {<-> nachlielib}{}
\DeclareFontShape{HE8}{cmss}{bx}{it} {<-> nachlielibi}{}

%Fix some nikud naming problems
\let\hebsheva=\sheva
\let\hebhatafsegol=\hatafsegol
\let\hebhatafpatah=\hatafpatah
\let\hebhatafqamats=\hatafqamats
\let\hebhiriq=\hiriq
\let\hebtsere=\tsere
\let\hebsegol=\segol
\let\hebpatah=\patah
\let\hebqamats=\qamats
\let\hebholam=\holam
\let\hebqubuts=\qubuts
\let\hebdagesh=\dagesh
\let\hebmeteg=\meteg
\let\hebmaqaf=\maqaf
\let\hebrafe=\rafe
\let\hebpaseq=\paseq
\let\hebshindot=\shindot
\let\hebsindot=\sindot
\let\hebsofpasuq=\sofpasuq

